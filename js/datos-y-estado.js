// ==================================================================
// DATOS Y ESTADO DE LA APLICACIÓN
// ==================================================================
let voices = [];

const properties = {
    1: { title: "Villa de Lujo con Vista a la Bahía en Zihuatanejo", price: "9200000", image: "https://images.adsttc.com/media/images/63e9/82a6/2b86/6c4c/117b/bff7/large_jpg/casa-acantilado-zozaya-arquitectos_24.jpg?1676247747", bedrooms: 4, bathrooms: 4, area: 450, description: "Impresionante villa de lujo con vistas panorámicas a la bahía de Zihuatanejo. Disfruta de atardeceres espectaculares desde tu alberca infinita.", features: ["Vista a la bahía", "Alberca infinita", "Terraza amplia", "Cocina de chef", "Acceso privado"], location: "Zihuatanejo, Guerrero", type: "casa", emailProveedor: "lujo@proveedor.com", telefonoProveedor: "5512345678", availableDays: "lun,mar,mie,jue,vie", availableHours: "10:00-18:00" },
    2: { title: "Casa de Playa Rústica en Pantla", price: "4800000", image: "https://q-xx.bstatic.com/xdata/images/hotel/max500/473833128.jpg?k=0a2290f413d0e817190661bc62222424a943058aba24c6cc87d162c2a83b05fa&o=", bedrooms: 3, bathrooms: 2, area: 280, description: "Encantadora casa de estilo rústico a solo unos pasos de la playa virgen de Pantla. Ideal para quienes buscan tranquilidad y contacto con la naturaleza.", features: ["A 50m de la playa", "Jardín con palmeras", "Palapa para hamacas", "Construcción fresca", "Pozo de agua propio"], location: "Pantla, Guerrero", type: "casa", emailProveedor: "rustico@proveedor.com", telefonoProveedor: "5523456789", availableDays: "sab,dom", availableHours: "10:00-16:00" },
    3: { title: "Residencia Moderna en San José Ixtapa", price: "6500000", image: "https://img.lamudi.com.mx/eyJidWNrZXQiOiJwcmQtbGlmdWxsY29ubmVjdC1iYWNrZW5kLWIyYi1pbWFnZXMiLCJrZXkiOiJwcm9wZXJ0aWVzLzAxOTE1NDgyLTBlNmMtNzIyYi1hNTkwLTQxYzMxZGZkNjQ5My8wMTkxNTQ4Mi0zZjA4LTcwNjctYjdkNC1jYTE1NmY4MThiYzcuanBnIiwiYnJhbmQiOiJsYW11ZGkiLCJlZGl0cyI6eyJyb3RhdGUiOm51bGwsInJlc2l6ZSI6eyJ3aWR0aCI6MzIwLCJoZWlnaHQiOjI0MCwiZml0IjoiY292ZXIifX19", bedrooms: 5, bathrooms: 3, area: 500, description: "Amplia residencia de diseño moderno ubicada en la tranquila zona de San José Ixtapa. Perfecta para familias grandes, con un gran jardín y alberca.", features: ["Alberca grande", "Jardín de 600m²", "Diseño moderno", "Acabados de lujo", "Cochera para 4 autos"], location: "San Jose Ixtapa, Guerrero", type: "casa", emailProveedor: "moderna@proveedor.com", telefonoProveedor: "5534567890", availableDays: "lun,mar,mie,jue,vie,sab", availableHours: "09:00-17:00" },
    4: { title: "Bungalow con Alberca Privada en Zihuatanejo", price: "5950000", image: "https://cb-crm.s3.us-west-2.amazonaws.com/upload/propiedad/29976/espacios-interiores/general/ixtapa-las-palmas-casa-venta_BLz8h86fY4-large.jpg", bedrooms: 2, bathrooms: 2, area: 200, description: "Acogedor y lujoso bungalow en el corazón de Zihuatanejo, con su propia alberca privada y un exuberante jardín tropical. Privacidad y confort.", features: ["Alberca privada", "Jardín tropical", "Totalmente amueblado", "Cerca de restaurantes", "Seguridad 24/7"], location: "Zihuatanejo, Guerrero", type: "casa", emailProveedor: "proveedor@arcak.com", telefonoProveedor: "5545678901", availableDays: "lun,mar,mie,jue,vie,sab,dom", availableHours: "11:00-15:00" },
    5: { title: "Finca Tradicional en Barrio Viejo", price: "7100000", image: "https://img10.naventcdn.com/avisos/18/01/47/21/78/55/720x532/1564513902.jpg?isFirstImage=true", bedrooms: 4, bathrooms: 3, area: 600, description: "Auténtica finca de estilo guerrerense en Barrio Viejo. Con amplios corredores, patio central y árboles frutales. Una joya tradicional.", features: ["Estilo tradicional", "Patio central grande", "Árboles frutales", "Muros de adobe", "Espacios amplios"], location: "Barrio Viejo, Guerrero", type: "casa", emailProveedor: "fincas@proveedor.com", telefonoProveedor: "5556789012", availableDays: "N/A", availableHours: "N/A" },
    6: { title: "Villa con Acceso Directo a la Laguna en Pantla", price: "8250000", image: "https://http2.mlstatic.com/D_NQ_NP_921100-MLM83951571120_042025-O-casa-en-venta-en-ixtapa-zihuatanejo-club-de-golf.webp", bedrooms: 4, bathrooms: 4, area: 550, description: "Espectacular villa moderna con muelle y acceso directo a la laguna de Pantla. Perfecta para amantes de los deportes acuáticos.", features: ["Acceso a laguna", "Muelle privado", "Alberca", "Vistas a la laguna", "Terraza en azotea"], location: "Pantla, Guerrero", type: "casa", emailProveedor: "lujos@proveedor.com", telefonoProveedor: "5567890123", availableDays: "mier,jue,vie,sab,dom", availableHours: "12:00-18:00" },
    7: { title: "Casa Familiar en Club de Golf Ixtapa", price: "9800000", image: "https://assets.easybroker.com/property_images/3782442/61998528/EB-NN2442.jpeg?version=1685634991", bedrooms: 5, bathrooms: 5, area: 700, description: "Lujosa casa familiar dentro del prestigioso Club de Golf de Ixtapa, con vistas al campo, alberca y acabados de primera.", features: ["Club de Golf", "Vistas al campo de golf", "Alberca y jacuzzi", "Casa club", "Máxima seguridad"], location: "Ixtapa-Zihuatanejo, Guerrero", type: "casa", emailProveedor: "club@proveedor.com", telefonoProveedor: "5578901234", availableDays: "lun,mar,mie,jue,vie", availableHours: "08:00-16:00" }
};

// Vuelve a la estructura de usuario simple
let currentUser = null; 

let favorites = new Set();
let currentFilters = { searchTerm: '', minPrice: null, maxPrice: null, minBedrooms: null, minBathrooms: null, sortBy: null };
let isFavoritesViewActive = false;
let userPreferences = { name: null, theme: 'light', profilePic: null };
let recognition = null;
let isListening = false;

let DOMElements = {};